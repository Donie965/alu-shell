#!/usr/bin/env bash
#!/bin/bash

# manage_my_process script

                                                  
start () {                                        
                           
    echo $! > /var/run/my_process.pid              
    echo "manage_my_process started"               
}                                                  
                                                   
stop () { 
if [ -e "$PID_FILE" ]; then
        # Get the PID from the PID file
        PID=$(cat "$PID_FILE")
        # Terminate the process
        kill -TERM "$PID"
        # Wait for the process to exit
        while kill -0 "$PID" 2>/dev/null; do
            sleep 1
        done
#remove process logic	
    pkill -f "./manage_my_process"                 
    rm /var/run/my_process.pid                     
    echo "manage_my_process stopped"               
}                                                  
                                                   
restart () {                                       
    pkill -f "./manage_my_process"                 
    rm /var/run/my_process.pid                     
    ./manage_my_process &                          
    echo $! >> /var/run/my_process.pid             
    echo "manage_my_process restarted"             
}
case "$1" in                                       
   start) start ;;                                 
   stop)  stop;;                                   
   restart) restart;;                              
   *) echo "Usage: manage_my_process {start|stop|r\
estart}"                                           
                                                   
      ;;                                           
esac 
